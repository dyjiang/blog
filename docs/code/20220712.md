


##   åˆ¤æ–­æ˜¯å¦æ˜¯promise

```js
 function isPromise(obj) {
      return !!obj  //æœ‰å®é™…å«ä¹‰çš„å˜é‡æ‰æ‰§è¡Œæ–¹æ³•ï¼Œå˜é‡nullï¼Œundefinedå’Œ''ç©ºä¸²éƒ½ä¸ºfalse
        && (typeof obj === 'object' || typeof obj === 'function') // åˆå§‹promise æˆ– promise.thenè¿”å›çš„
        && typeof obj.then === 'function';
    }

```



## è§£å†³ .map is not a functionï¼ˆ[å‚è€ƒ](https://bobbyhadz.com/blog/javascript-typeerror-object-map-is-not-a-function)ï¼‰

**å‘ç”Ÿâ€œobject.map ä¸æ˜¯å‡½æ•°â€é”™è¯¯æ˜¯å› ä¸ºè¯¥mapæ–¹æ³•æœªåœ¨å¯¹è±¡ä¸Šå®ç°ã€‚è¦éå†å¯¹è±¡ï¼Œè¯·ä½¿ç”¨è¯¥Object.keys() æ–¹æ³•è·å–å¯¹è±¡é”®map()çš„æ•°ç»„å¹¶åœ¨é”®æ•°ç»„ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ã€‚**

<img src="/code/0714.png" style="zoom:100%;" />

```react
{Object.keys(allData).map((item, index) => {
    return (
        <li className="item" key={index}>
            <div className="cover">
                <img src={images[index]} alt=""   style={{'height':"100%",'width':'100%'}}/>
            </div>
            {/* <p className="mytxt"><span>{item.ProjectName}</span><span>{new Date(item.CreateTime)}</span></p> */}
            <p className="mytxt">
                <span>{item.ProjectName}</span>
                <span>{new Date(item.CreateTime).toLocaleString()}</span>
            </p>
        </li>
    );
})}
```

**è¯¥[Object.keys](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)æ–¹æ³•è¿”å›å¯¹è±¡é”®çš„æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ•°ç»„ä¸Šè°ƒç”¨è¯¥Array.mapæ–¹æ³•ã€‚**



è¯·æ³¨æ„ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ [Object.values()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values) æ–¹æ³•æ¥è·å–å¯¹è±¡å€¼çš„æ•°ç»„ã€‚

```js
const obj = {
    num1: 4,
    num2: 8,
};

// ğŸ‘‡ï¸ [4, 8]
console.log(Object.values(obj));

const result = Object.values(obj).map(value => {
    console.log(value); // ğŸ‘‰ï¸ 4, 8

    return value * 2;
});

// ğŸ‘‡ï¸ [8, 16]
console.log(result);

```



å¦‚æœæ‚¨åªå…³å¿ƒå¯¹è±¡çš„å€¼ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•è·å–å¯¹è±¡å€¼çš„æ•°ç»„ï¼Œå¹¶ä½¿ç”¨è¯¥`Object.values`æ–¹æ³•éå†è¯¥æ•°ç»„`Array.map`ã€‚

å¦‚æœéœ€è¦æ•°ç»„ä¸­å¯¹è±¡çš„é”®å’Œå€¼ï¼Œå¯ä»¥ä½¿ç”¨ [Object.entries](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries) æ–¹æ³•ã€‚

```js
const obj = {
    name: 'James',
    country: 'Chile',
};

// ğŸ‘‡ï¸ [['name', 'James'], ['country', 'Chile']]
console.log(Object.entries(obj));

const result = Object.entries(obj).map(([key, value]) => {
    console.log(key); // ğŸ‘‰ï¸ name, country
    console.log(value); // ğŸ‘‰ï¸ James, Chile

    return {[key]: value};
});

// ğŸ‘‡ï¸ [{name: 'James'}, {country: 'Chile'}]
console.log(result);

```

è¯¥`Object.entries`æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„æ•°ç»„ï¼Œå…¶ä¸­å†…éƒ¨æ•°ç»„ç”± 2 ä¸ªå…ƒç´ ç»„æˆ - é”®å’Œå€¼ã€‚

æˆ‘ä»¬ä½¿ç”¨æ•°ç»„è§£æ„æ¥è§£æ„æ¯ä¸ªå†…éƒ¨æ•°ç»„çš„`key`and`value`å¹¶åœ¨æˆ‘ä»¬çš„`map`æ–¹æ³•ä¸­ç›´æ¥ä½¿ç”¨å˜é‡ã€‚

