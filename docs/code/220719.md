## react hooks å­çˆ¶ä¼ å€¼æ–¹æ³•ï¼Œé€šè¿‡åœ¨çˆ¶ç»„ä»¶å®šä¹‰å‡½æ•°

> æ¡ˆä¾‹éœ€æ±‚ï¼Œå­ç»„ä»¶Aä¼ å€¼åˆ°çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶å†ä¼ å€¼åˆ°å­ç»„ä»¶B

## ğŸ˜³ ` æ­¥éª¤1` 

`å› ä¸ºå­ç»„ä»¶æœ¬èº«å·²ç»æœ‰ç‚¹å‡»äº‹ä»¶changeCollapsedï¼Œæ­¤äº‹ä»¶ç”¨æ¥æ§åˆ¶æ”¶èµ·æ”¾å¼€iconå›¾è¡¨çš„æ”¹å˜ï¼Œä¸èƒ½åˆ æ‰ï¼›æ‰€ä»¥ä¼ å€¼åŠæ³•é€‰æ‹©äº†åœ¨çˆ¶ç»„ä»¶å®šä¹‰putçŠ¶æ€å’ŒisPutæ–¹æ³•` 

```react
//çˆ¶ç»„ä»¶ 
const [put,setIsput] = useState(true)

  const isPut =(put)=>{    //ä¼ å€¼çš„å‡½æ•°
    // console.log(put);
    // let aa =1 ;
    // console.log(aa);
    setIsput(put)
    // return put
  }
```



 ```react
//çˆ¶ç»„ä»¶
return (
    <Layout>

        <SideMenu put={put}></SideMenu>  //ç»„ä»¶Bï¼ˆå–å€¼ï¼‰
        <Layout className="site-layout">
            <TopHeader isPut={isPut}></TopHeader> //ç»„ä»¶Aï¼ˆä¼ å€¼`å‡½æ•°`ï¼‰
            <Layout className="mycontent">
                <Outlet style={{ border: "1px solid red" }} />
            </Layout>
        </Layout>
    </Layout>
);
 ```



## ğŸ˜³ ` æ­¥éª¤2  `

`//1ã€å­ç»„ä»¶A: è·å–ä¼ è¿‡æ¥çš„å‡½æ•°isPutï¼Œ`

```react

export default function TopHeader({isPut}) { //
  const [collapsed, setCollapsed] = useState(false);
  const changeCollapsed = () => {
    setCollapsed(!collapsed);
    console.log(collapsed);
    isPut(collapsed)  // è®¾ç½®å€¼
    console.log(isPut,'aaaaa');
  };

```

`2ã€è®¾ç½®å€¼æ–¹æ³•`

```react
  {collapsed ? (
        <MenuUnfoldOutlined onClick={changeCollapsed} />
      ) : (
        <MenuFoldOutlined onClick={changeCollapsed} />
  )}
```

## ğŸ˜ `æ­¥éª¤3`

 `ç»„ä»¶Bå–å€¼`

```react
export default function SideMenu({ put }) {
  console.log(put,'hhh');
  let navigate = useNavigate();
}

```

`ç»„ä»¶Bèµ‹å€¼`

```react
return (
    <Sider trigger={null} collapsible collapsed={put}>   //èµ‹å€¼
        <div className="logo" />
        <Menu theme="dark" mode="inline" defaultSelectedKeys={["1"]}>
            {renderMenu(menuList)}
        </Menu>
    </Sider>
);
```

## ğŸ˜ `å®Œæ•´ä»£ç `

```js
//çˆ¶ç»„ä»¶

import React ,{useState} from "react";
import { Outlet } from "react-router-dom";
import SideMenu from "../../components/sandbox/SideMenu";
import TopHeader from "../../components/sandbox/TopHeader";

//css
import "./NewsSandBox.css";

//antd
import { Layout } from "antd";

export default function NewsSandBox() {

  const [put,setIsput] = useState(true)

  const isPut =(put)=>{
    // console.log(put);
    // let aa =1 ;
    // console.log(aa);
    setIsput(put)
    // return put
  }
  console.log(put,'ccccc');
  return (
    <Layout>
      <SideMenu put={put}></SideMenu>
      <Layout className="site-layout">
        <TopHeader isPut={isPut}></TopHeader>
        <Layout className="mycontent">
          <Outlet style={{ border: "1px solid red" }} />
        </Layout>
      </Layout>
    </Layout>
  );
}

```



```js
//å­ç»„ä»¶A  ï¼ˆä¼ å€¼ï¼‰

import React, { useState } from "react";
import { useNavigate } from "react-router";

import { Layout, Dropdown, Menu, Space, Avatar } from "antd";
import { DownOutlined, UserOutlined } from "@ant-design/icons";
import { MenuUnfoldOutlined, MenuFoldOutlined } from "@ant-design/icons";
const { Header } = Layout;


export default function TopHeader({isPut}) {
  
   
  const [collapsed, setCollapsed] = useState(false);
  const changeCollapsed = () => {
    setCollapsed(!collapsed);
    console.log(collapsed);
    isPut(collapsed)
    console.log(isPut,'aaaaa');
  };

  // const menuList = [
  //   {
  //     key: "/admin",
  //     title: "è¶…çº§ç®¡ç†å‘˜",
  //     icon: <HomeOutlined />,
  //   },
  //   {
  //     key: "/changePassword",
  //     title: "ä¿®æ”¹å¯†ç ",
  //     icon: <HomeOutlined />,
  //   },
  //   {
  //     key: "/quit",
  //     title: "é€€å‡ºè´¦å·",
  //     icon: <HomeOutlined />,
  //   },
  // ];
  let navigate = useNavigate();
  const menu = (
    <Menu>
      <Menu.Item>è¶…çº§ç®¡ç†å‘˜</Menu.Item>
      <Menu.Item onClick={(props) => {
          console.log(props)
          navigate('/right-manage/role/list')
        }}>ä¿®æ”¹å¯†ç </Menu.Item>
      <Menu.Item
        danger
        onClick={(props) => {
          console.log(props)
          navigate('/signin')
        }}
      >
        é€€å‡º
      </Menu.Item>
    </Menu>
  );

  return (
    <Header className="site-layout-background" style={{ padding: "0 16px" }}>
      {collapsed ? (
        <MenuUnfoldOutlined onClick={changeCollapsed} />
      ) : (
        <MenuFoldOutlined onClick={changeCollapsed} />
      )}
      <div className="mycenter" style={{ float: "right", display:"flex" }}>
        <span style={{ marginRight: "20px" }}>æ¬¢è¿xxå›æ¥</span>
        <Dropdown overlay={menu}>
          <div onClick={(e) => e.preventDefault()}>
            <Space>
              <Avatar size="default" icon={<UserOutlined />} />
              <DownOutlined />
            </Space>
          </div>
        </Dropdown>
      </div>
    </Header>
  );
}


```

```js
//å­ç»„ä»¶B ï¼ˆå–å€¼ï¼‰

import React from "react";
import { Layout, Menu } from "antd";
import { UserOutlined, HomeOutlined, CrownOutlined } from "@ant-design/icons";
import SubMenu from "antd/lib/menu/SubMenu";
import { useNavigate } from "react-router";

import './index.css' //css

const { Sider } = Layout;

const menuList = [
  {
    key: "/home",
    title: "é¦–é¡µ",
    icon: <HomeOutlined />,
  },
  {
    key: "/project",
    title: "é¡¹ç›®",
    icon: <UserOutlined />,
    // children: [
    //   {
    //     key: "",
    //     title: "é¡¹ç›®",
    //     icon: <CrownOutlined />,
    //   },
      // {
      //   key: "/project-manage/factory",
      //   title: "å·¥å‚",
      //   icon: <CrownOutlined />,
      // },
      // {
      //   key: "/project-manage/progress",
      //   title: "è¿›åº¦",
      //   icon: <CrownOutlined />,
      // },
      // {
      //   key: "/project-manage/property",
      //   title: "èµ„äº§",
      //   icon: <CrownOutlined />,
      // },
    
    // ]
  },
  {
    key: "/right-manage",
    title: "ä¸ªäººä¸­å¿ƒ",
    icon: <CrownOutlined />,
    children: [
      {
        key: "/right-manage/role/list",
        title: "å¯†ç ç®¡ç†",
        icon: <CrownOutlined />,
      },
      {
        key: "/right-manage/right/list",
        title: "2",
        icon: <CrownOutlined />,
      },
    ],
  },
];

export default function SideMenu({ put }) {
  console.log(put,'hhh');
  let navigate = useNavigate();
  // Menu
  const renderMenu = (menuList) => {
    return menuList.map((item) => {
      if (item.children) {
        return (
          <SubMenu key={item.key} icon={item.icon} title={item.title}>
            {renderMenu(item.children)}
          </SubMenu>
        );
      }
      return (
        <Menu.Item
          key={item.key}
          icon={item.icon}
          onClick={() => navigate(item.key)}
        >
          {item.title}
        </Menu.Item>
      );
    });
  };

  return (
    <Sider trigger={null} collapsible collapsed={put}>
      <div className="logo" />
      <Menu theme="dark" mode="inline" defaultSelectedKeys={["1"]}>
        {renderMenu(menuList)}
      </Menu>
    </Sider>
  );
}



```

*ä¼ å€¼æ–¹æ³•ï¼šcontextï¼Œredux å¾…ç»­......*